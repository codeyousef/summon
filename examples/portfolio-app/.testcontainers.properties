# Testcontainers configuration for Windows environments
# This file helps resolve Docker ClosedChannelException issues on Windows

# Use Windows-specific Docker client strategy
docker.client.strategy=org.testcontainers.dockerclient.WindowsClientProviderStrategy

# Enable container reuse to avoid repeated container creation
testcontainers.reuse.enable=true

# Increase timeouts for Windows named pipe connections
ryuk.container.timeout=120
testcontainers.environmentprovider.timeout=120

# Disable TLS verification for local Docker
docker.tls.verify=0

# Windows-specific settings for Docker socket
docker.host=npipe:////./pipe/docker_engine

# Increase container startup timeout
testcontainers.startup.timeout=300

# Enable more detailed logging for troubleshooting
testcontainers.log.level=INFO

# Disable Ryuk if having persistent issues (not recommended for production)
# testcontainers.ryuk.disabled=true

# Set host override for Windows
testcontainers.host.override=localhost

# Connection pool settings
testcontainers.dockerclient.max.pool.size=10
testcontainers.dockerclient.connection.timeout=30