# Project-specific settings

# Remove JS Canvas flag since we're using Compose HTML
# org.jetbrains.compose.experimental.jscanvas.enabled=true

# Version information is now in version.properties
# See version.properties for the single source of truth for version information
# Memory settings
kotlin.daemon.jvmargs=-Xmx4G
org.gradle.jvmargs=-Xmx4G -XX:MaxMetaspaceSize=1G

# Gradle configuration
org.gradle.parallel=true
org.gradle.configureondemand=false
# Build cache - enable for CI (override via CLI: --build-cache)
# Disabled by default locally due to potential WASM cache staleness issues
org.gradle.caching=false

# Kotest configuration - disable classpath scanning for faster test startup
kotest.framework.classpath.scanning.autoscan.disable=true

# Kotlin configuration
# kotlin.mpp.enableGranularSourceSetsMetadata=true  # DEPRECATED - removed
# kotlin.native.enableDependencyPropagation=false  # DEPRECATED - removed
kotlin.js.nodejs.version=18.16.0
kotlin.js.yarn.disableYarnLockMismatchCheck=true
kotlin.js.yarn.installTimeout=300000
# ENABLE MODERN INCREMENTAL COMPILATION (Kotlin 2.2.21)
kotlin.incremental=true
kotlin.incremental.wasm=true
kotlin.incremental.js=true
kotlin.incremental.multiplatform=true
kotlin.js.compiler.incremental=true
# New FIR-based incremental compilation for JVM
kotlin.incremental.jvm.fir=true
# Experimental WASM incremental compilation
kotlin.experimental.wasm.incrementalCompilation=true
# Force compiler execution strategy
kotlin.compiler.execution.strategy=in-process
# Compiler flag to handle KLIB duplicate names from atomicfu
kotlin.js.compiler.additionalArguments=-Xklib-duplicated-unique-name-strategy=allow-first-with-warning
# AtomicFU configuration - enable all IR transformations
kotlinx.atomicfu.enableJvmIrTransformation=true
kotlinx.atomicfu.enableNativeIrTransformation=true
kotlinx.atomicfu.enableJsIrTransformation=true

# Publishing configuration (override in local.properties or CI)
# New Central Portal credentials (2024+)
# centralUsername=your_central_portal_username
# centralPassword=your_central_portal_token
# signing.keyId=your_key_id
# signing.password=your_signing_password
# signing.secretKeyRingFile=path_to_your_secret_keyring

# GitHub Packages (override in CI)
# Disable default Kotlin hierarchy template due to custom webMain source set
kotlin.mpp.applyDefaultHierarchyTemplate=false

# Defaults for Central Portal publishing (overridden by local.properties, -P, or env)
mavenCentralUsername=
mavenCentralPassword=
