<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Summon Router Example</title>
<!--    <style>-->
<!--        /* Base styles */-->
<!--        body {-->
<!--            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;-->
<!--            margin: 0;-->
<!--            padding: 0;-->
<!--            line-height: 1.6;-->
<!--            background-color: #f5f5f5;-->
<!--            color: #333;-->
<!--        }-->

<!--        /* Root container */-->
<!--        #root {-->
<!--            max-width: 1200px;-->
<!--            margin: 0 auto;-->
<!--            padding: 20px;-->
<!--        }-->

<!--        /* App container */-->
<!--        .summon-app-container {-->
<!--            max-width: 1200px;-->
<!--            margin: 0 auto;-->
<!--            padding: 20px;-->
<!--            background-color: #f5f5f5;-->
<!--        }-->

<!--        /* App header */-->
<!--        .summon-app-header {-->
<!--            padding: 20px;-->
<!--            background: #ffffff;-->
<!--            border-radius: 8px;-->
<!--            margin-bottom: 20px;-->
<!--            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);-->
<!--        }-->

<!--        /* Text styles */-->
<!--        .summon-text {-->
<!--            margin: 0;-->
<!--            padding: 0;-->
<!--        }-->

<!--        .summon-app-title {-->
<!--            font-size: 24px;-->
<!--            font-weight: bold;-->
<!--            color: #333333;-->
<!--            margin-bottom: 16px;-->
<!--        }-->

<!--        .summon-section-title {-->
<!--            font-size: 18px;-->
<!--            font-weight: bold;-->
<!--            color: #333333;-->
<!--            margin-bottom: 16px;-->
<!--        }-->

<!--        .summon-list-title {-->
<!--            font-size: 20px;-->
<!--            font-weight: bold;-->
<!--            color: #333333;-->
<!--            margin-bottom: 16px;-->
<!--        }-->

<!--        .summon-error-message {-->
<!--            color: #ff4d4d;-->
<!--            font-size: 14px;-->
<!--            margin-bottom: 10px;-->
<!--        }-->

<!--        /* Button styles */-->
<!--        .summon-button {-->
<!--            cursor: pointer;-->
<!--            border: none;-->
<!--            border-radius: 4px;-->
<!--            padding: 8px 16px;-->
<!--            font-size: 14px;-->
<!--            transition: background-color 0.2s, transform 0.1s;-->
<!--        }-->

<!--        .summon-button:hover {-->
<!--            transform: translateY(-1px);-->
<!--        }-->

<!--        .summon-button:active {-->
<!--            transform: translateY(1px);-->
<!--        }-->

<!--        .summon-add-task-button {-->
<!--            padding: 10px 20px;-->
<!--            background: #4285f4;-->
<!--            color: #ffffff;-->
<!--            border-radius: 4px;-->
<!--            font-weight: bold;-->
<!--            font-size: 16px;-->
<!--        }-->

<!--        .summon-add-task-button:hover {-->
<!--            background: #3367d6;-->
<!--        }-->

<!--        .summon-delete-task-button {-->
<!--            padding: 5px 10px;-->
<!--            background: #ff4d4d;-->
<!--            color: #ffffff;-->
<!--            border-radius: 4px;-->
<!--            font-size: 14px;-->
<!--        }-->

<!--        .summon-delete-task-button:hover {-->
<!--            background: #e60000;-->
<!--        }-->

<!--        .summon-filter-button {-->
<!--            margin: 0 5px;-->
<!--            padding: 8px 12px;-->
<!--            background: #e0e0e0;-->
<!--            color: #333333;-->
<!--            border-radius: 4px;-->
<!--        }-->

<!--        .summon-filter-button.summon-selected {-->
<!--            background: #4285f4;-->
<!--            color: #ffffff;-->
<!--        }-->

<!--        /* Layout components */-->
<!--        .summon-row {-->
<!--            display: flex;-->
<!--            flex-direction: row;-->
<!--        }-->

<!--        .summon-column {-->
<!--            display: flex;-->
<!--            flex-direction: column;-->
<!--        }-->

<!--        .summon-justify-between {-->
<!--            justify-content: space-between;-->
<!--        }-->

<!--        .summon-align-center {-->
<!--            align-items: center;-->
<!--        }-->

<!--        .summon-w-100 {-->
<!--            width: 100%;-->
<!--        }-->

<!--        /* Task components */-->
<!--        .summon-task-form {-->
<!--            background: #ffffff;-->
<!--            border-radius: 8px;-->
<!--            padding: 20px;-->
<!--            margin-bottom: 20px;-->
<!--            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);-->
<!--        }-->

<!--        .summon-filter-controls {-->
<!--            background: #ffffff;-->
<!--            border-radius: 8px;-->
<!--            padding: 15px;-->
<!--            margin-bottom: 20px;-->
<!--            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);-->
<!--            text-align: center;-->
<!--        }-->

<!--        .summon-task-list {-->
<!--            background: #ffffff;-->
<!--            border-radius: 8px;-->
<!--            padding: 20px;-->
<!--            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);-->
<!--            max-height: 400px;-->
<!--            overflow-y: auto;-->
<!--        }-->

<!--        .summon-task-item {-->
<!--            display: flex;-->
<!--            align-items: center;-->
<!--            justify-content: space-between;-->
<!--            padding: 10px;-->
<!--            margin: 5px 0;-->
<!--            background: #ffffff;-->
<!--            border-radius: 4px;-->
<!--            border: 1px solid #e0e0e0;-->
<!--        }-->

<!--        .summon-task-item.summon-completed {-->
<!--            background-color: #f0f8ff;-->
<!--        }-->

<!--        .summon-task-content {-->
<!--            display: flex;-->
<!--            align-items: center;-->
<!--            flex: 1;-->
<!--        }-->

<!--        /* Checkbox styles */-->
<!--        .summon-checkbox {-->
<!--            margin-right: 10px;-->
<!--            cursor: pointer;-->
<!--        }-->

<!--        /* Empty state */-->
<!--        .summon-empty-state {-->
<!--            padding: 20px;-->
<!--            margin: 10px 0;-->
<!--            background: #f9f9f9;-->
<!--            border-radius: 8px;-->
<!--            text-align: center;-->
<!--            color: #666666;-->
<!--        }-->

<!--        /* Utility classes */-->
<!--        .summon-text-center {-->
<!--            text-align: center;-->
<!--        }-->

<!--        .summon-text-right {-->
<!--            text-align: right;-->
<!--        }-->

<!--        .summon-font-bold {-->
<!--            font-weight: bold;-->
<!--        }-->

<!--        .summon-font-italic {-->
<!--            font-style: italic;-->
<!--        }-->

<!--        .summon-completed-text {-->
<!--            text-decoration: line-through;-->
<!--            color: #888888;-->
<!--        }-->

<!--        /* Block display */-->
<!--        .summon-block {-->
<!--            display: block;-->
<!--        }-->

<!--        /* Inline block display */-->
<!--        .summon-inline-block {-->
<!--            display: inline-block;-->
<!--        }-->
<!--    </style>-->
    <script>
        // Define RenderUtils and protoOf globally before any other scripts load
        window.RenderUtils = window.RenderUtils || {};
        window.protoOf = window.protoOf || function(obj) {
            return obj.prototype || obj;
        };

        // Initialize currentParent for DOM operations
        window.currentParent = document.body;
        window._parentStack = [];

        // Define a global function to apply styles to elements
        window.applySummonStyles = function() {
            console.log("[DEBUG] Applying Summon styles to elements");

            // Fallback: Apply basic classes based on tag names and modifiers
            var elements = document.querySelectorAll('*');
            for (var i = 0; i < elements.length; i++) {
                var element = elements[i];
                var tagName = element.tagName.toLowerCase();

                // Apply basic tag-based classes
                if (tagName === 'button' && !element.classList.contains('summon-button')) {
                    element.classList.add('summon-button');
                } 
                else if ((tagName === 'span' || tagName === 'p' || tagName === 'h1' || 
                         tagName === 'h2' || tagName === 'h3' || tagName === 'h4') && 
                         !element.classList.contains('summon-text')) {
                    element.classList.add('summon-text');
                }
                else if (tagName === 'input' && !element.classList.contains('summon-input')) {
                    element.classList.add('summon-input');
                }

                // Apply classes based on inline styles (more reliable than computed styles)
                try {
                    // Use getAttribute instead of direct style access to avoid CSS2Properties interface errors
                    var styleAttr = element.getAttribute('style') || '';

                    // Parse style attribute to find display and flexDirection
                    if (styleAttr.indexOf('display: flex') !== -1 || styleAttr.indexOf('display:flex') !== -1) {
                        if (styleAttr.indexOf('flex-direction: row') !== -1 || 
                            styleAttr.indexOf('flex-direction:row') !== -1 || 
                            styleAttr.indexOf('flexDirection: row') !== -1 || 
                            styleAttr.indexOf('flexDirection:row') !== -1) {
                            if (!element.classList.contains('summon-row')) {
                                element.classList.add('summon-row');
                            }
                        } else if (styleAttr.indexOf('flex-direction: column') !== -1 || 
                                   styleAttr.indexOf('flex-direction:column') !== -1 || 
                                   styleAttr.indexOf('flexDirection: column') !== -1 || 
                                   styleAttr.indexOf('flexDirection:column') !== -1) {
                            if (!element.classList.contains('summon-column')) {
                                element.classList.add('summon-column');
                            }
                        }
                    } else if (styleAttr.indexOf('display: block') !== -1 || styleAttr.indexOf('display:block') !== -1) {
                        if (!element.classList.contains('summon-block')) {
                            element.classList.add('summon-block');
                        }
                    } else if (styleAttr.indexOf('display: inline-block') !== -1 || styleAttr.indexOf('display:inline-block') !== -1) {
                        if (!element.classList.contains('summon-inline-block')) {
                            element.classList.add('summon-inline-block');
                        }
                    }
                } catch (e) {
                    // Silently ignore style errors
                }
            }

            console.log("[DEBUG] Summon styles applied");
        };

        // Call the function when the DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Wait a bit to ensure all elements are rendered
            setTimeout(function() {
                window.applySummonStyles();
            }, 100);
        });
    </script>
</head>
<body>
    <!-- Root element for Summon application -->
    <div id="root"></div>
    <script src="js-example.js"></script>
</body>
</html>
